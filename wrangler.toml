name = "cf-ai-specforge"
main = "workers/index.ts"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]

# AI Model binding
[ai]
binding = "AI"

# Durable Objects for stateful sessions
[[durable_objects.bindings]]
name = "TOOL_REGISTRY"
class_name = "ToolRegistry"
script_name = "cf-ai-specforge"

[[durable_objects.bindings]]
name = "SESSION_STATE"
class_name = "SessionState"
script_name = "cf-ai-specforge"

[[durable_objects.bindings]]
name = "ANALYTICS"
class_name = "AnalyticsTracker"
script_name = "cf-ai-specforge"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["ToolRegistry", "SessionState"]

[[migrations]]
tag = "v2"
new_sqlite_classes = ["AnalyticsTracker"]

# Optional D1 database (uncomment if needed)
# [[d1_databases]]
# binding = "DB"
# database_name = "specforge"
# database_id = "REPLACE_ME"
