name = "cf-ai-specforge"
main = "workers/index.ts"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]

[dev]
port = 8787

# AI Model binding
[ai]
binding = "AI"

# Durable Objects for stateful sessions
[[durable_objects.bindings]]
name = "SESSION_STATE"
class_name = "SessionState"

[[durable_objects.bindings]]
name = "SKILL_REGISTRY"
class_name = "SkillRegistry"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["SessionState", "ToolRegistry"]

[[migrations]]
tag = "v2"
deleted_classes = ["ToolRegistry"]
new_sqlite_classes = ["SkillRegistry"]

# Optional D1 database (uncomment if needed)
# [[d1_databases]]
# binding = "DB"
# database_name = "specforge"
# database_id = "REPLACE_ME"
